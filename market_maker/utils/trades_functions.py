from typing import List, Dict, Tuple
import numpy as np
from statsmodels.distributions.empirical_distribution import ECDF
from matplotlib import pyplot as plt


def get_empirical_trade_size_cdfs(trades: List[Dict]) -> Tuple[ECDF, ECDF]:
    """
    Get the empirical CDF of trades sizes
    """

    sell_trades = [trade['size'] for trade in trades if trade['side'] == 'Sell']
    buy_trades = [trade['size'] for trade in trades if trade['side'] == 'Buy']

    log_sizes_sell_trades = np.log(sell_trades)
    log_sizes_buy_trades = np.log(buy_trades)
    ecdf_sells = ECDF(log_sizes_sell_trades)
    ecdf_buys = ECDF(log_sizes_buy_trades)

    return ecdf_buys, ecdf_sells


def rho(x: float, ecdf: ECDF) -> float:
    """ x is the quantity of the incoming MO """
    return ecdf(np.log(x))


LIST_OF_TRADES = [
    {'timestamp': '2021-05-09T11:27:49.368Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 1000, 'price': 58160,
     'tickDirection': 'PlusTick', 'trdMatchID': '3ba99c9a-142b-3376-bb1c-228245289fc2', 'grossValue': 1719000,
     'homeNotional': 0.01719, 'foreignNotional': 1000},
    {'timestamp': '2021-05-09T11:28:15.999Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 641, 'price': 58089,
     'tickDirection': 'PlusTick', 'trdMatchID': '4b92da8f-1077-31ec-2ebd-3ec113d3aaa7', 'grossValue': 1103161,
     'homeNotional': 0.01103161, 'foreignNotional': 641},
    {'timestamp': '2021-05-09T11:28:35.869Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 489, 'price': 58089,
     'tickDirection': 'PlusTick', 'trdMatchID': '9bd81cf3-854b-2504-0e33-510c1edd909f', 'grossValue': 841569,
     'homeNotional': 0.00841569, 'foreignNotional': 489},
    {'timestamp': '2021-05-09T11:28:36.626Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 1111, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'eb83b300-75b2-8b66-cbe6-683f73d280bb', 'grossValue': 1912031,
     'homeNotional': 0.01912031, 'foreignNotional': 1111},
    {'timestamp': '2021-05-09T11:28:36.626Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 10506, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '5375440b-bd95-a948-4999-ace3f005884a', 'grossValue': 18080826,
     'homeNotional': 0.18080826, 'foreignNotional': 10506},
    {'timestamp': '2021-05-09T11:28:37.534Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 74, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'a1ab12ae-68dc-47f5-a37f-50ec79b12c77', 'grossValue': 127354,
     'homeNotional': 0.00127354, 'foreignNotional': 74},
    {'timestamp': '2021-05-09T11:28:37.821Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 98238, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '3bd0e78a-3e71-975d-9190-4aa16af225fc', 'grossValue': 169067598,
     'homeNotional': 1.69067598, 'foreignNotional': 98238},
    {'timestamp': '2021-05-09T11:28:37.821Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 49154, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'd4e42896-d4bc-a4a4-1939-f81bade19855', 'grossValue': 84594034,
     'homeNotional': 0.84594034, 'foreignNotional': 49154},
    {'timestamp': '2021-05-09T11:28:37.821Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 18363, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'bee31fab-5b5d-ffcf-fd4c-1e20b456a381', 'grossValue': 31602723,
     'homeNotional': 0.31602723, 'foreignNotional': 18363},
    {'timestamp': '2021-05-09T11:28:37.949Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 2377, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'b0f15341-8dcb-4d7c-716c-6e7038013c43', 'grossValue': 4090817,
     'homeNotional': 0.04090817, 'foreignNotional': 2377},
    {'timestamp': '2021-05-09T11:28:37.982Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 1895, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '68279028-bdc1-3be4-e243-14e3d637f2e3', 'grossValue': 3261295,
     'homeNotional': 0.03261295, 'foreignNotional': 1895},
    {'timestamp': '2021-05-09T11:28:38.000Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 203, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '2f0d05cc-5e11-4eae-ff24-14d1754e8763', 'grossValue': 349363,
     'homeNotional': 0.00349363, 'foreignNotional': 203},
    {'timestamp': '2021-05-09T11:28:38.015Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 426, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '68d8cd52-da47-fda2-904b-7a58bc10fb45', 'grossValue': 733146,
     'homeNotional': 0.00733146, 'foreignNotional': 426},
    {'timestamp': '2021-05-09T11:28:38.036Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 203, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '0b026aa3-75cd-fbd5-1f33-21501eac3ee6', 'grossValue': 349363,
     'homeNotional': 0.00349363, 'foreignNotional': 203},
    {'timestamp': '2021-05-09T11:28:38.089Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 243, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '68685c69-1a51-283b-cd90-d7fe56648d97', 'grossValue': 418203,
     'homeNotional': 0.00418203, 'foreignNotional': 243},
    {'timestamp': '2021-05-09T11:28:38.748Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 77, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '3dae2d29-364f-df45-bbb4-b12f31b20347', 'grossValue': 132517,
     'homeNotional': 0.00132517, 'foreignNotional': 77},
    {'timestamp': '2021-05-09T11:28:39.804Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 65576, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '187d34aa-ceeb-cf3d-bb26-ea29347dd8f3', 'grossValue': 112856296,
     'homeNotional': 1.12856296, 'foreignNotional': 65576},
    {'timestamp': '2021-05-09T11:28:39.804Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 7933, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'e3623c9b-531b-29f5-1957-62f551157d4f', 'grossValue': 13652693,
     'homeNotional': 0.13652693, 'foreignNotional': 7933},
    {'timestamp': '2021-05-09T11:28:40.382Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 2067, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '44ad2406-bacb-de45-b6b5-858bd4c4f630', 'grossValue': 3557307,
     'homeNotional': 0.03557307, 'foreignNotional': 2067},
    {'timestamp': '2021-05-09T11:28:40.382Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 30000, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '28ac9ac3-8ff2-c8f5-f815-5ebd1ff03316', 'grossValue': 51630000,
     'homeNotional': 0.5163, 'foreignNotional': 30000},
    {'timestamp': '2021-05-09T11:28:40.382Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 3000, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'b889be35-739b-74f7-c32b-e4dca2291a65', 'grossValue': 5163000,
     'homeNotional': 0.05163, 'foreignNotional': 3000},
    {'timestamp': '2021-05-09T11:28:40.382Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 30000, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': 'a55a4594-ff7c-55d9-95e2-8047e4ae19ce', 'grossValue': 51630000,
     'homeNotional': 0.5163, 'foreignNotional': 30000},
    {'timestamp': '2021-05-09T11:28:40.382Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 12000, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '7b3d96c0-7908-c8d1-b3cc-abf743ec793b', 'grossValue': 20652000,
     'homeNotional': 0.20652, 'foreignNotional': 12000},
    {'timestamp': '2021-05-09T11:28:40.382Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 9638, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '285f5700-64ed-3c35-62a1-cd95d37b1cdf', 'grossValue': 16586998,
     'homeNotional': 0.16586998, 'foreignNotional': 9638},
    {'timestamp': '2021-05-09T11:28:42.653Z', 'symbol': 'XBTUSD', 'side': 'Buy', 'size': 1000, 'price': 58089,
     'tickDirection': 'ZeroPlusTick', 'trdMatchID': '4b68b54b-374e-7dfa-d597-f9370bc66e92', 'grossValue': 1721000,
     'homeNotional': 0.01721, 'foreignNotional': 1000},
    {'timestamp': '2021-05-09T11:27:50.901Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 4470, 'price': 58159.5,
     'tickDirection': 'MinusTick', 'trdMatchID': '579d1ac4-17f6-3671-665c-c53d7707aa65', 'grossValue': 7683930,
     'homeNotional': 0.0768393, 'foreignNotional': 4470},
    {'timestamp': '2021-05-09T11:27:50.969Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1560, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '8fdd35bd-7f9c-66ee-8ade-91921b72f433', 'grossValue': 2681640,
     'homeNotional': 0.0268164, 'foreignNotional': 1560},
    {'timestamp': '2021-05-09T11:27:51.369Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1478, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '1882cce1-4870-1398-3bea-2a8f467303ae', 'grossValue': 2540682,
     'homeNotional': 0.02540682, 'foreignNotional': 1478},
    {'timestamp': '2021-05-09T11:27:51.372Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1518, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '47bc3ccd-6c81-8523-762d-53d56c9c1443', 'grossValue': 2609442,
     'homeNotional': 0.02609442, 'foreignNotional': 1518},
    {'timestamp': '2021-05-09T11:27:51.445Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1926, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'aaf8ca16-f476-274c-8c28-da386c145f1c', 'grossValue': 3310794,
     'homeNotional': 0.03310794, 'foreignNotional': 1926},
    {'timestamp': '2021-05-09T11:27:51.633Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 2968, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'e641068d-b383-d04f-092c-dd0bfc5cab5a', 'grossValue': 5101992,
     'homeNotional': 0.05101992, 'foreignNotional': 2968},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 55580, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '24b0bf0f-ac12-ce14-210e-607171751c8c', 'grossValue': 95542020,
     'homeNotional': 0.9554202, 'foreignNotional': 55580},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 49154, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '319d7077-91a5-f94b-7c8e-817c399cc4cb', 'grossValue': 84495726,
     'homeNotional': 0.84495726, 'foreignNotional': 49154},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 117000, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'f28e9f19-8802-2965-c321-459ca2df5d21',
     'grossValue': 201123000, 'homeNotional': 2.01123, 'foreignNotional': 117000},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 541, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'e5374c57-fc52-fea0-1ae6-6c19ea1a1d88', 'grossValue': 929979,
     'homeNotional': 0.00929979, 'foreignNotional': 541},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 28, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '53a43c32-5413-64a7-622f-5a04ef9f57c7', 'grossValue': 48132,
     'homeNotional': 0.00048132, 'foreignNotional': 28},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 88, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'b36123b5-dda5-cd6b-e55d-43ed1e234a3d', 'grossValue': 151272,
     'homeNotional': 0.00151272, 'foreignNotional': 88},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 2, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '2a473149-c5c2-acb7-1bcf-d53eee4ff9fc', 'grossValue': 3438,
     'homeNotional': 3.438e-05, 'foreignNotional': 2},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 39, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '424792f5-9466-9567-d299-a4d6cc99b283', 'grossValue': 67041,
     'homeNotional': 0.00067041, 'foreignNotional': 39},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'ff01169d-ee83-5018-ec4e-6d51fc556cc3', 'grossValue': 1719,
     'homeNotional': 1.719e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 864, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '6ddc3a15-adc7-07c3-9af0-d8f9f7829b67', 'grossValue': 1485216,
     'homeNotional': 0.01485216, 'foreignNotional': 864},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 52, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '45b9833b-88e7-2d53-62bd-078f373acac8', 'grossValue': 89388,
     'homeNotional': 0.00089388, 'foreignNotional': 52},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 7675, 'price': 58159.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '346f884b-3d08-0cec-9b5f-87bbb344865f', 'grossValue': 13193325,
     'homeNotional': 0.13193325, 'foreignNotional': 7675},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 558, 'price': 58158.5,
     'tickDirection': 'MinusTick', 'trdMatchID': '3284bff7-7e0e-3943-af1f-222eabc4de31', 'grossValue': 959202,
     'homeNotional': 0.00959202, 'foreignNotional': 558},
    {'timestamp': '2021-05-09T11:27:51.885Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 7, 'price': 58158,
     'tickDirection': 'MinusTick', 'trdMatchID': '2340146e-f4d2-5582-ddb5-f582007d02d0', 'grossValue': 12033,
     'homeNotional': 0.00012033, 'foreignNotional': 7},
    {'timestamp': '2021-05-09T11:27:52.198Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58156,
     'tickDirection': 'MinusTick', 'trdMatchID': '32de0e77-dd44-0843-1730-71411a64298d', 'grossValue': 1720,
     'homeNotional': 1.72e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:27:54.490Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '88a89878-f3ed-827b-39fc-590c2aa92d66', 'grossValue': 1720,
     'homeNotional': 1.72e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 29998, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'e9bc0caf-30cf-520a-e212-61be88eb9bab', 'grossValue': 51596560,
     'homeNotional': 0.5159656, 'foreignNotional': 29998},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'afcff7fd-6001-1c7b-0be7-bfcdd035c918', 'grossValue': 51600000,
     'homeNotional': 0.516, 'foreignNotional': 30000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 3000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '75f081ae-5731-e430-3b77-f4affd71a886', 'grossValue': 5160000,
     'homeNotional': 0.0516, 'foreignNotional': 3000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 10000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'cfed291e-fe09-c7ba-b1d4-a29c0ee0cec7', 'grossValue': 17200000,
     'homeNotional': 0.172, 'foreignNotional': 10000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 22000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'ca12d92b-aa58-b77c-4936-cb2f2a059d10', 'grossValue': 37840000,
     'homeNotional': 0.3784, 'foreignNotional': 22000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 12000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '09285b3b-3bfa-b291-6e5f-7d031a2b7510', 'grossValue': 20640000,
     'homeNotional': 0.2064, 'foreignNotional': 12000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 14000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '56aef591-b60a-c5b6-c24c-2219910b0cd6', 'grossValue': 24080000,
     'homeNotional': 0.2408, 'foreignNotional': 14000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 28000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '65581999-bd40-ff53-5701-f439f8467634', 'grossValue': 48160000,
     'homeNotional': 0.4816, 'foreignNotional': 28000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'defd1705-dd1c-0724-cab8-beb90d034023', 'grossValue': 51600,
     'homeNotional': 0.000516, 'foreignNotional': 30},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 6000, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'd1b407de-26a8-c114-8921-6890ff1e5dc6', 'grossValue': 10320000,
     'homeNotional': 0.1032, 'foreignNotional': 6000},
    {'timestamp': '2021-05-09T11:27:54.700Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 54922, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'e6729afd-63d4-0f14-7e90-3639b5d577e2', 'grossValue': 94465840,
     'homeNotional': 0.9446584, 'foreignNotional': 54922},
    {'timestamp': '2021-05-09T11:27:54.706Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1542, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '093595b4-3440-5435-d156-5285f258b7ec', 'grossValue': 2652240,
     'homeNotional': 0.0265224, 'foreignNotional': 1542},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 100, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '7d6b1b7e-bff2-940a-3533-d7dd3cc126f3', 'grossValue': 172000,
     'homeNotional': 0.00172, 'foreignNotional': 100},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1539, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'd0d8b997-12d6-0ad4-2c0d-b0ed8c60ccf4', 'grossValue': 2647080,
     'homeNotional': 0.0264708, 'foreignNotional': 1539},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1918, 'price': 58156,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '5e77c0ad-e41b-d7cd-0930-32bf79809fff', 'grossValue': 3298960,
     'homeNotional': 0.0329896, 'foreignNotional': 1918},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 303, 'price': 58149.5,
     'tickDirection': 'MinusTick', 'trdMatchID': '014911b4-9939-2bfb-dde9-369ae192d52d', 'grossValue': 521160,
     'homeNotional': 0.0052116, 'foreignNotional': 303},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 266, 'price': 58149,
     'tickDirection': 'MinusTick', 'trdMatchID': '8bac5bf3-c715-2d1a-9467-bc953bdce038', 'grossValue': 457520,
     'homeNotional': 0.0045752, 'foreignNotional': 266},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 26, 'price': 58144,
     'tickDirection': 'MinusTick', 'trdMatchID': 'e21057a8-1d4f-c41b-b3ab-5a02aaaf94a6', 'grossValue': 44720,
     'homeNotional': 0.0004472, 'foreignNotional': 26},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 48, 'price': 58141.5,
     'tickDirection': 'MinusTick', 'trdMatchID': '48900794-bff6-d604-507d-47afc54cd9d6', 'grossValue': 82560,
     'homeNotional': 0.0008256, 'foreignNotional': 48},
    {'timestamp': '2021-05-09T11:27:54.723Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30, 'price': 58141,
     'tickDirection': 'MinusTick', 'trdMatchID': 'fbfde091-8515-124e-525d-ac77899b9601', 'grossValue': 51600,
     'homeNotional': 0.000516, 'foreignNotional': 30},
    {'timestamp': '2021-05-09T11:27:54.749Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 3000, 'price': 58132,
     'tickDirection': 'MinusTick', 'trdMatchID': '09251aa6-1d20-e436-3c01-372192d386ae', 'grossValue': 5160000,
     'homeNotional': 0.0516, 'foreignNotional': 3000},
    {'timestamp': '2021-05-09T11:27:54.749Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 800, 'price': 58132,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'f609b207-fc9a-75aa-7c59-54be51099bb0', 'grossValue': 1376000,
     'homeNotional': 0.01376, 'foreignNotional': 800},
    {'timestamp': '2021-05-09T11:27:54.749Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 300, 'price': 58131,
     'tickDirection': 'MinusTick', 'trdMatchID': 'e427f00a-cfd1-10e0-a435-bbece0d417c7', 'grossValue': 516000,
     'homeNotional': 0.00516, 'foreignNotional': 300},
    {'timestamp': '2021-05-09T11:27:54.807Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 26, 'price': 58128,
     'tickDirection': 'MinusTick', 'trdMatchID': '2761fadb-851b-4a1f-3f12-71f13ff5ffa8', 'grossValue': 44720,
     'homeNotional': 0.0004472, 'foreignNotional': 26},
    {'timestamp': '2021-05-09T11:27:54.807Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 552, 'price': 58128,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'b2e2c948-fbc6-c649-b30e-45cb97c0ea58', 'grossValue': 949440,
     'homeNotional': 0.0094944, 'foreignNotional': 552},
    {'timestamp': '2021-05-09T11:27:54.807Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 8000, 'price': 58128,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '397da48a-b5ec-6c4f-f498-81a143c5b6fa', 'grossValue': 13760000,
     'homeNotional': 0.1376, 'foreignNotional': 8000},
    {'timestamp': '2021-05-09T11:27:54.867Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30, 'price': 58126,
     'tickDirection': 'MinusTick', 'trdMatchID': '6637b490-5376-bdd3-27bb-257aaf469e60', 'grossValue': 51600,
     'homeNotional': 0.000516, 'foreignNotional': 30},
    {'timestamp': '2021-05-09T11:27:54.890Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1600, 'price': 58125.5,
     'tickDirection': 'MinusTick', 'trdMatchID': '8a6fc8a4-feb3-0868-02d2-3c880f5e4bdb', 'grossValue': 2752000,
     'homeNotional': 0.02752, 'foreignNotional': 1600},
    {'timestamp': '2021-05-09T11:27:54.890Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1600, 'price': 58125.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '5eb89c6e-356b-b099-3331-9547626fcf82', 'grossValue': 2752000,
     'homeNotional': 0.02752, 'foreignNotional': 1600},
    {'timestamp': '2021-05-09T11:27:54.990Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58125,
     'tickDirection': 'MinusTick', 'trdMatchID': '39249f9f-8e15-9e38-539a-d972dbf1f14a', 'grossValue': 1720,
     'homeNotional': 1.72e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:27:55.003Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 8800, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '7bb8bc48-0d87-24b0-bbf4-cba787c19f65', 'grossValue': 15136000,
     'homeNotional': 0.15136, 'foreignNotional': 8800},
    {'timestamp': '2021-05-09T11:27:57.199Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '22950e84-54fc-d854-35fb-1697dd43e287', 'grossValue': 1720,
     'homeNotional': 1.72e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:28:02.062Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 6399, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'd5e3a96d-287b-0f4c-13ab-03e0c3c922bc', 'grossValue': 11006280,
     'homeNotional': 0.1100628, 'foreignNotional': 6399},
    {'timestamp': '2021-05-09T11:28:02.062Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 68500, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'ec8d4fc8-2a19-8702-1b80-5e6a5971fb81',
     'grossValue': 117820000, 'homeNotional': 1.1782, 'foreignNotional': 68500},
    {'timestamp': '2021-05-09T11:28:02.062Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 75101, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'ffe4f3bb-d168-fd0f-3526-cb485a8b4814',
     'grossValue': 129173720, 'homeNotional': 1.2917372, 'foreignNotional': 75101},
    {'timestamp': '2021-05-09T11:28:02.200Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'f91a076b-d39c-1b13-58bb-734292c6f2fb', 'grossValue': 1720,
     'homeNotional': 1.72e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:28:02.306Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 29061, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '44da71c3-e5d1-382c-8271-3811463eeaa8', 'grossValue': 49984920,
     'homeNotional': 0.4998492, 'foreignNotional': 29061},
    {'timestamp': '2021-05-09T11:28:02.306Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 69500, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '0db9b0f1-2a73-7880-f3ab-8eb9914db643',
     'grossValue': 119540000, 'homeNotional': 1.1954, 'foreignNotional': 69500},
    {'timestamp': '2021-05-09T11:28:02.306Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '8a12528e-6e9c-d4a5-77fb-3c94264a27ea', 'grossValue': 51600,
     'homeNotional': 0.000516, 'foreignNotional': 30},
    {'timestamp': '2021-05-09T11:28:02.306Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 800, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'f1d49d4d-ad85-7ba9-8c4e-3bdf77f8cd1e', 'grossValue': 1376000,
     'homeNotional': 0.01376, 'foreignNotional': 800},
    {'timestamp': '2021-05-09T11:28:02.306Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1039, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'c2440270-decc-3222-42cc-b165e418e358', 'grossValue': 1787080,
     'homeNotional': 0.0178708, 'foreignNotional': 1039},
    {'timestamp': '2021-05-09T11:28:02.306Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1579, 'price': 58125,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '5a57785e-f6ee-5c71-dd08-0674b2746836', 'grossValue': 2715880,
     'homeNotional': 0.0271588, 'foreignNotional': 1579},
    {'timestamp': '2021-05-09T11:28:02.306Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 50, 'price': 58124.5,
     'tickDirection': 'MinusTick', 'trdMatchID': '0f261b12-bd1e-c4bb-8453-9a4db13915de', 'grossValue': 86000,
     'homeNotional': 0.00086, 'foreignNotional': 50},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30000, 'price': 58122.5,
     'tickDirection': 'MinusTick', 'trdMatchID': 'c35a3f84-33f1-ded4-dd6a-a7794f15934d', 'grossValue': 51630000,
     'homeNotional': 0.5163, 'foreignNotional': 30000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 14000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '0a60ebc5-fac4-2589-8004-d27f1a9e7fda', 'grossValue': 24094000,
     'homeNotional': 0.24094, 'foreignNotional': 14000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 28000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '5c853156-2c00-5a65-613a-89625cc45db3', 'grossValue': 48188000,
     'homeNotional': 0.48188, 'foreignNotional': 28000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 22000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'c894ba18-6e64-7829-3d9f-2b90a58c0769', 'grossValue': 37862000,
     'homeNotional': 0.37862, 'foreignNotional': 22000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 12000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '4c3d3255-6116-c14c-2695-383b050644f5', 'grossValue': 20652000,
     'homeNotional': 0.20652, 'foreignNotional': 12000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 5000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '87684bfa-d795-1d63-e5b9-1684b7deefc4', 'grossValue': 8605000,
     'homeNotional': 0.08605, 'foreignNotional': 5000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 3488, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '3ed68980-8b24-4837-48a8-0a75895049c0', 'grossValue': 6002848,
     'homeNotional': 0.06002848, 'foreignNotional': 3488},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 3488, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '08cff62f-9ef8-5e78-3c1e-9c59091fe2c4', 'grossValue': 6002848,
     'homeNotional': 0.06002848, 'foreignNotional': 3488},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 20000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '1e313e13-e695-7e33-5dc9-89093b843d16', 'grossValue': 34420000,
     'homeNotional': 0.3442, 'foreignNotional': 20000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 3000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'beab6674-b1c3-612a-7bbc-72332fbeaa51', 'grossValue': 5163000,
     'homeNotional': 0.05163, 'foreignNotional': 3000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '747cbf3b-7cd0-681f-ee30-5c83a39773b2', 'grossValue': 51630000,
     'homeNotional': 0.5163, 'foreignNotional': 30000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 10000, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '6002442b-a627-8e63-87c8-a6cd139f3ef1', 'grossValue': 17210000,
     'homeNotional': 0.1721, 'foreignNotional': 10000},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 99, 'price': 58122.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '031f6f46-a1ae-9ddb-d4a0-208b366a028c', 'grossValue': 170379,
     'homeNotional': 0.00170379, 'foreignNotional': 99},
    {'timestamp': '2021-05-09T11:28:02.483Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 806, 'price': 58122,
     'tickDirection': 'MinusTick', 'trdMatchID': '0c214ddb-ecb8-8f91-d35a-5c9fba46d86e', 'grossValue': 1387126,
     'homeNotional': 0.01387126, 'foreignNotional': 806},
    {'timestamp': '2021-05-09T11:28:02.788Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 5000, 'price': 58120,
     'tickDirection': 'MinusTick', 'trdMatchID': '5e8fb12a-7a86-dc49-8089-5123ef1ce335', 'grossValue': 8605000,
     'homeNotional': 0.08605, 'foreignNotional': 5000},
    {'timestamp': '2021-05-09T11:28:02.788Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 10000, 'price': 58120,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '748a07de-3204-441f-a721-2390572ffedf', 'grossValue': 17210000,
     'homeNotional': 0.1721, 'foreignNotional': 10000},
    {'timestamp': '2021-05-09T11:28:02.888Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 15, 'price': 58117,
     'tickDirection': 'MinusTick', 'trdMatchID': '8ad2ab6e-8f9e-fbda-83e0-603f7c26e779', 'grossValue': 25815,
     'homeNotional': 0.00025815, 'foreignNotional': 15},
    {'timestamp': '2021-05-09T11:28:02.901Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 26, 'price': 58112,
     'tickDirection': 'MinusTick', 'trdMatchID': '6a450821-3dde-a17f-2034-abfb0a4721b1', 'grossValue': 44746,
     'homeNotional': 0.00044746, 'foreignNotional': 26},
    {'timestamp': '2021-05-09T11:28:02.901Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 575, 'price': 58110,
     'tickDirection': 'MinusTick', 'trdMatchID': '71fd80c4-d22c-6bfc-3cb3-bb260f7717a1', 'grossValue': 989575,
     'homeNotional': 0.00989575, 'foreignNotional': 575},
    {'timestamp': '2021-05-09T11:28:02.901Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30, 'price': 58110,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'ea7f4818-d315-67d0-12a7-f1779e276837', 'grossValue': 51630,
     'homeNotional': 0.0005163, 'foreignNotional': 30},
    {'timestamp': '2021-05-09T11:28:04.431Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 4641, 'price': 58106,
     'tickDirection': 'MinusTick', 'trdMatchID': 'c50e8483-38a6-ca7e-8e45-0aeb07be9f4e', 'grossValue': 7987161,
     'homeNotional': 0.07987161, 'foreignNotional': 4641},
    {'timestamp': '2021-05-09T11:28:04.431Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 852, 'price': 58106,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '4a5fcd33-5137-6fbb-7c89-bf6df1ed12dd', 'grossValue': 1466292,
     'homeNotional': 0.01466292, 'foreignNotional': 852},
    {'timestamp': '2021-05-09T11:28:04.431Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 797, 'price': 58106,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '12674a0a-fa62-0f55-6f66-f558df77787c', 'grossValue': 1371637,
     'homeNotional': 0.01371637, 'foreignNotional': 797},
    {'timestamp': '2021-05-09T11:28:04.431Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1600, 'price': 58104.5,
     'tickDirection': 'MinusTick', 'trdMatchID': 'd28b66bf-8c3e-0c27-27fa-e42f5de78bfa', 'grossValue': 2753600,
     'homeNotional': 0.027536, 'foreignNotional': 1600},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 5000, 'price': 58100,
     'tickDirection': 'MinusTick', 'trdMatchID': '00bc3af1-f7f7-6fe8-d23a-9a4dbb1148f7', 'grossValue': 8605000,
     'homeNotional': 0.08605, 'foreignNotional': 5000},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 10000, 'price': 58100,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '98bc4e18-5e84-7c63-2c45-929b1bca0027', 'grossValue': 17210000,
     'homeNotional': 0.1721, 'foreignNotional': 10000},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 850, 'price': 58100,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '6f9dc256-32c4-92cb-dd26-d2cff3c8f7cf', 'grossValue': 1462850,
     'homeNotional': 0.0146285, 'foreignNotional': 850},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30, 'price': 58100,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '9c488ab1-f18f-eae6-41f5-20bad89162d9', 'grossValue': 51630,
     'homeNotional': 0.0005163, 'foreignNotional': 30},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 300, 'price': 58096.5,
     'tickDirection': 'MinusTick', 'trdMatchID': 'dce630b2-ce74-5090-c813-549595fedcd0', 'grossValue': 516300,
     'homeNotional': 0.005163, 'foreignNotional': 300},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 26, 'price': 58096,
     'tickDirection': 'MinusTick', 'trdMatchID': 'fe5178be-4c59-0915-45c6-231c16ec3946', 'grossValue': 44746,
     'homeNotional': 0.00044746, 'foreignNotional': 26},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30, 'price': 58095,
     'tickDirection': 'MinusTick', 'trdMatchID': '540140ed-18a3-dc76-dd87-1106db0f0650', 'grossValue': 51630,
     'homeNotional': 0.0005163, 'foreignNotional': 30},
    {'timestamp': '2021-05-09T11:28:06.132Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 3498, 'price': 58092,
     'tickDirection': 'MinusTick', 'trdMatchID': 'c1fbe235-aa76-d666-45d6-2bac27f4a507', 'grossValue': 6020058,
     'homeNotional': 0.06020058, 'foreignNotional': 3498},
    {'timestamp': '2021-05-09T11:28:07.134Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 400, 'price': 58088.5,
     'tickDirection': 'MinusTick', 'trdMatchID': 'cbe23299-706e-2909-4a61-3c2875c1c745', 'grossValue': 688800,
     'homeNotional': 0.006888, 'foreignNotional': 400},
    {'timestamp': '2021-05-09T11:28:07.197Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '5db05d3a-4bd0-0798-e0c9-cb6b358f05bc', 'grossValue': 1722,
     'homeNotional': 1.722e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:28:07.925Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 400, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '292fb0bb-e80f-0c06-7475-cca49e70155b', 'grossValue': 688800,
     'homeNotional': 0.006888, 'foreignNotional': 400},
    {'timestamp': '2021-05-09T11:28:08.756Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 29199, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '00146535-9864-b0e9-fe04-4ef7011fd0d2', 'grossValue': 50280678,
     'homeNotional': 0.50280678, 'foreignNotional': 29199},
    {'timestamp': '2021-05-09T11:28:08.756Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 22000, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'aff7d102-3349-a52e-f715-44f34b7b3321', 'grossValue': 37884000,
     'homeNotional': 0.37884, 'foreignNotional': 22000},
    {'timestamp': '2021-05-09T11:28:08.756Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 14000, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '780f25d7-5dc7-e720-4fbf-1ce871990b06', 'grossValue': 24108000,
     'homeNotional': 0.24108, 'foreignNotional': 14000},
    {'timestamp': '2021-05-09T11:28:08.756Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 28000, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'db0d722d-9560-2bc7-5ef0-45fae6eba6e6', 'grossValue': 48216000,
     'homeNotional': 0.48216, 'foreignNotional': 28000},
    {'timestamp': '2021-05-09T11:28:08.756Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 12000, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'e4dd4387-0af0-97ac-11fc-3c063dadf8af', 'grossValue': 20664000,
     'homeNotional': 0.20664, 'foreignNotional': 12000},
    {'timestamp': '2021-05-09T11:28:08.756Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 94801, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '4b163cb0-05a9-df6b-af35-e1111ccf2322',
     'grossValue': 163247322, 'homeNotional': 1.63247322, 'foreignNotional': 94801},
    {'timestamp': '2021-05-09T11:28:08.817Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 400, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '0c058334-e913-6389-33f0-3a2767074a04', 'grossValue': 688800,
     'homeNotional': 0.006888, 'foreignNotional': 400},
    {'timestamp': '2021-05-09T11:28:12.201Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'c848101a-e3b0-04fe-ed6c-577ea508f950', 'grossValue': 1722,
     'homeNotional': 1.722e-05, 'foreignNotional': 1},
    {'timestamp': '2021-05-09T11:28:13.100Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 50138, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '504fc5d1-dfe3-6015-7845-b53a16c44cf0', 'grossValue': 86337636,
     'homeNotional': 0.86337636, 'foreignNotional': 50138},
    {'timestamp': '2021-05-09T11:28:13.100Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 5689, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'f45d4970-1b4a-7ea5-3ea4-0500ba5b682f', 'grossValue': 9796458,
     'homeNotional': 0.09796458, 'foreignNotional': 5689},
    {'timestamp': '2021-05-09T11:28:16.165Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 373, 'price': 58088.5,
     'tickDirection': 'MinusTick', 'trdMatchID': 'd3ef0910-9bb7-c8f3-4e04-1386cede4f37', 'grossValue': 642306,
     'homeNotional': 0.00642306, 'foreignNotional': 373},
    {'timestamp': '2021-05-09T11:28:17.077Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 50, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '6932b682-b191-752c-28fb-b9558394f551', 'grossValue': 86100,
     'homeNotional': 0.000861, 'foreignNotional': 50},
    {'timestamp': '2021-05-09T11:28:20.655Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 310, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'ae8d7f51-d4f5-af68-29f1-c08d54d6cd5e', 'grossValue': 533820,
     'homeNotional': 0.0053382, 'foreignNotional': 310},
    {'timestamp': '2021-05-09T11:28:25.175Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 828, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '6b3c5fb6-5768-7247-c875-a2d4289bbf7e', 'grossValue': 1425816,
     'homeNotional': 0.01425816, 'foreignNotional': 828},
    {'timestamp': '2021-05-09T11:28:25.264Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1470, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '8f2a94ea-3bab-6693-20b0-295907f9f7f4', 'grossValue': 2531340,
     'homeNotional': 0.0253134, 'foreignNotional': 1470},
    {'timestamp': '2021-05-09T11:28:25.264Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 30000, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '8fec9a9b-154b-59fc-8975-47e86f4578c3', 'grossValue': 51660000,
     'homeNotional': 0.5166, 'foreignNotional': 30000},
    {'timestamp': '2021-05-09T11:28:25.264Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 3000, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'f82c3f2f-92f0-1b3f-f925-ba2ce335e31b', 'grossValue': 5166000,
     'homeNotional': 0.05166, 'foreignNotional': 3000},
    {'timestamp': '2021-05-09T11:28:25.264Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1160, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '5ef35639-2cd0-01f4-9758-c0c45d32643c', 'grossValue': 1997520,
     'homeNotional': 0.0199752, 'foreignNotional': 1160},
    {'timestamp': '2021-05-09T11:28:25.264Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 370, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '65430174-65bb-7a46-1240-7ac91825cb6a', 'grossValue': 637140,
     'homeNotional': 0.0063714, 'foreignNotional': 370},
    {'timestamp': '2021-05-09T11:28:29.403Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 1983, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '7fd1ee7b-2565-e9bb-1af3-7968e72fa153', 'grossValue': 3414726,
     'homeNotional': 0.03414726, 'foreignNotional': 1983},
    {'timestamp': '2021-05-09T11:28:29.403Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 35937, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'f564f817-b897-e583-3ad5-72f6cba7287f', 'grossValue': 61883514,
     'homeNotional': 0.61883514, 'foreignNotional': 35937},
    {'timestamp': '2021-05-09T11:28:29.640Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 202, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'a4efc074-abf4-6827-4179-84eb83ed5eef', 'grossValue': 347844,
     'homeNotional': 0.00347844, 'foreignNotional': 202},
    {'timestamp': '2021-05-09T11:28:30.552Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 32861, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '40afbca5-9957-fdd7-f265-4244af1fe998', 'grossValue': 56586642,
     'homeNotional': 0.56586642, 'foreignNotional': 32861},
    {'timestamp': '2021-05-09T11:28:30.552Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 68500, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'b0dc12ee-b31f-a31b-8d16-278cc5a2967b',
     'grossValue': 117957000, 'homeNotional': 1.17957, 'foreignNotional': 68500},
    {'timestamp': '2021-05-09T11:28:30.552Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 48639, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': 'c1c1955f-047f-d449-77fe-dfbd12321c7a', 'grossValue': 83756358,
     'homeNotional': 0.83756358, 'foreignNotional': 48639},
    {'timestamp': '2021-05-09T11:28:34.296Z', 'symbol': 'XBTUSD', 'side': 'Sell', 'size': 159, 'price': 58088.5,
     'tickDirection': 'ZeroMinusTick', 'trdMatchID': '1d03263c-c723-6e8d-0b99-0c0443dfb4b8', 'grossValue': 273798,
     'homeNotional': 0.00273798, 'foreignNotional': 159}]

if __name__ == '__main__':
    buy_ecdf, sell_ecdf = get_empirical_trade_size_cdfs(LIST_OF_TRADES)

    plt.figure()
    plt.plot(buy_ecdf.x, buy_ecdf.y, c='b')
    plt.xlabel('Log quantity')
    plt.ylabel('CDF')
    plt.title('CDF of quantities of incoming Buy MO')

    plt.figure()
    plt.plot(sell_ecdf.x, sell_ecdf.y, c='r')
    plt.xlabel('Log quantity')
    plt.ylabel('CDF')
    plt.title('CDF of quantities of incoming Sell MO')

    plt.show()
